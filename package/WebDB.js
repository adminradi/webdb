/* WebDB v0.1.0 - 1/16/2014
   http://
   Copyright (c) 2014  - Licensed  */
(function(){var a,b;b=function(){function b(b,c,d,e,f){var g,h,i,j,k,l,m;this.name=b;this.version=c;this.size=d!=null?d:5242880;this.schema=e;if(window.openDatabase){g=new a.webSQL(this.name,this.version,this.size,this.schema,f)}else if(window.indexedDB){g=new a.indexedDB(this.name,this.version,this.size,this.schema,f)}if(!window.openDatabase&&!window.indexedDB){l=function(){throw"HTML5 Databases not supported"};j=function(){throw"HTML5 Databases not supported"};m=function(){throw"HTML5 Databases not supported"};k=function(){throw"HTML5 Databases not supported"};h=function(){throw"HTML5 Databases not supported"};i=function(){throw"HTML5 Databases not supported"};throw"HTML5 Databases not supported"}this.select=g.select;this.insert=g.insert;this.update=g.update;this.remove=g.remove;this.drop=g.drop;this.execute=g.execute}return b}();a=window.WebDB=b}).call(this);(function(){var a;a=function(){a.prototype.db=null;function a(a,b,c,d,e){if(c==null){c=5242880}""}a.prototype.select=function(a){return""};a.prototype.insert=function(a){return""};a.prototype.update=function(a){return""};a.prototype.remove=function(a){return""};a.prototype.drop=function(a){return""};a.prototype.execute=function(a,b){return""};return a}();WebDB.indexedDB=a}).call(this);(function(){var a;a=function(){var a,b,c;d.prototype.db=null;function d(a,b,c,d,e){var f,g,h,i;if(c==null){c=5242880}if(!window.openDatabase){throw"WebSQL not supported"}this.db=openDatabase(a,b,"",c);i=0;for(h in d){g="CREATE TABLE IF NOT EXISTS "+h+" (";for(f in d[h]){g+=""+f+" "+d[h][f]+","}g=g.substring(0,g.length-1);g+=")";i++;execute(g,function(){tables--;if(tables===0){return e.call(e)}})}}d.prototype.select=function(a,c,d){var e;if(c==null){c=[]}e="SELECT * FROM "+a;e+=b(c);return this.execute(e,d)};d.prototype.insert=function(b,d,e){var f,g,h,i,j;if(c(d)==="object"){return a(b,d,e)}else{f=d.length;j=[];for(h=0,i=d.length;h<i;h++){g=d[h];j.push(a(b,g,function(){f--;if(f===0){return e.call(e)}}))}return j}};d.prototype.update=function(a){return""};d.prototype.remove=function(a){return""};d.prototype.drop=function(a){return""};d.prototype.execute=function(a,b){if(!this.db){throw"Database not initializated"}else{return this.db.transaction(function(c){return c.executeSql(a,b)})}};a=function(a,b,c){var d,e,f;f="INSERT INTO "+a+" (";d="(";for(e in b){f+=""+e+", ";d+=isNaN(b[e])?"'"+b[e]+"', ":""+b[e]+", "}f=f.substring(0,f.length-2)+") ";d=d.substring(0,d.length-2)+") ";f+=" VALUES "+d;return this.execute(f,c)};b=function(a){var b,c,d,e,f,g;if(a.length>0){d=" WHERE (";for(f=0,g=a.length;f<g;f++){b=a[f];for(c in b){e=b[c];d+=""+c+" = "+(isNaN(e)?"'"+e+"'":e)+" OR "}d=d.substring(0,d.length-4)+") AND ("}return d.substring(0,d.length-6)}else{return""}};c=function(a){return Object.prototype.toString.call(a).match(/( [a-zA-Z]+)/)[0].toLowerCase().replace(" ","")};return d}();WebDB.webSQL=a}).call(this);